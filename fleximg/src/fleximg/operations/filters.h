#ifndef FLEXIMG_OPERATIONS_FILTERS_H
#define FLEXIMG_OPERATIONS_FILTERS_H

#include "../common.h"
#include "../viewport.h"

namespace FLEXIMG_NAMESPACE {
namespace filters {

// ========================================================================
// フィルタ操作（純関数）
// ========================================================================
//
// 画像に対するフィルタ処理を行います。
// 入力と出力は同じサイズ・フォーマットを前提とします。
// 8bit RGBA (Straight) 形式で処理します。
//

// ------------------------------------------------------------------------
// brightness - 明るさ調整
// ------------------------------------------------------------------------
//
// RGBチャンネルに一定値を加算します。
//
// パラメータ:
// - dst: 出力バッファ（事前確保済み）
// - src: 入力バッファ
// - amount: 明るさ調整量（-1.0〜1.0、0.5で+127相当）
//
void brightness(ViewPort& dst, const ViewPort& src, float amount);

// ------------------------------------------------------------------------
// grayscale - グレースケール変換
// ------------------------------------------------------------------------
//
// RGB平均法によるグレースケール変換を行います。
//
void grayscale(ViewPort& dst, const ViewPort& src);

// ------------------------------------------------------------------------
// boxBlur - ボックスブラー
// ------------------------------------------------------------------------
//
// 2パス（水平→垂直）のボックスブラーを適用します。
//
// パラメータ:
// - dst: 出力バッファ（事前確保済み）
// - src: 入力バッファ
// - radius: ブラー半径（ピクセル）
//
void boxBlur(ViewPort& dst, const ViewPort& src, int radius);

// ------------------------------------------------------------------------
// alpha - アルファ調整
// ------------------------------------------------------------------------
//
// アルファチャンネルにスケール係数を乗算します。
//
// パラメータ:
// - dst: 出力バッファ（事前確保済み）
// - src: 入力バッファ
// - scale: アルファスケール（0.0〜1.0）
//
void alpha(ViewPort& dst, const ViewPort& src, float scale);

} // namespace filters
} // namespace FLEXIMG_NAMESPACE

#endif // FLEXIMG_OPERATIONS_FILTERS_H
