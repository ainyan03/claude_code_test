# Changelog

このプロジェクトの主要な変更を記録します。

---

## 2026-01-05

### パフォーマンス最適化

**mergeImages関数の高速化**
- `getPixelPtr`呼び出しを内側ループから外側ループに移動（O(W×H) → O(H)）
- アルファ値による早期終了/スキップ最適化
- 条件付き加算パターンで分岐を統合

**詳細パフォーマンス計測機能**
- WASM内部の処理時間を工程別に計測（Filter/Affine/Composite/Convert/Output）
- コンソールに詳細ログを出力

### UI/UX改善

**左サイドバーメニュー**
- 画像ライブラリと出力設定を統合
- トグルボタンで開閉（ESCキー、オーバーレイクリック対応）
- レスポンシブデザイン（PC/モバイル対応）

**レイアウト改善**
- ノードグラフとプレビュー間にリサイズ可能なスプリッター追加
- プレビュー倍率スライダー追加（1x〜5x）
- スクロール位置の自動中央調整
- ヘッダーのコンパクト化

### 簡素化

- 合成ノードからアフィンパラメータを削除（アフィン変換は専用ノードで）

---

## 2026-01-04

### アーキテクチャ改善

- WebAssemblyバインディングを整理し、NodeGraphEvaluator専用アーキテクチャに移行
- 未使用コード約410行を削除

### バグ修正

- 奇数幅画像での斜め歪みバグを修正

---

## 2026-01-03

### 内部リファクタリング

- 拡張可能ピクセルフォーマットシステムの実装
- ViewPort統一画像型の導入
- フィルタ処理の数学的正確性を改善（Straight alpha形式で処理）
- モジュラーファイル構造への分離

---

## 2026-01-02

### ノードグラフエディタへの移行

**新機能**
- ノードグラフエディタの実装（5種類のノード: 画像、アフィン変換、合成、フィルタ、出力）
- 画像ライブラリ機能
- C++ NodeGraphEvaluator（トポロジカルソート、メモ化）
- ドラッグ&ドロップによるノード配置・接続

**UI/UX改善**
- 動的ノード高さ調整
- リアルタイム接続線更新
- コンテキストメニュー（右クリック）

**ドキュメント整備**
- README.md、QUICKSTART.md、各種ドキュメントの作成・更新

---

*詳細な変更履歴については Git コミット履歴を参照してください。*
